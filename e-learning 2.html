<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vas√∫ti K√©pz√©si √©s Vizsg√°ztat√°si E-learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .hero-bg {
            background-color: #1e40af;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%233b82f6' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2v6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        /* Tipp dobozok */
        .tip-box { @apply bg-yellow-50 border-l-4 border-yellow-400 p-4 my-4 text-sm text-yellow-900 rounded-r-lg; }
        .explain-box { @apply bg-blue-50 border-l-4 border-blue-400 p-4 my-4 text-sm text-blue-900 rounded-r-lg; }

        /* Kv√≠z √©s J√°t√©k St√≠lusok */
        .option-btn { transition: all 0.2s; }
        .option-btn:hover:not(:disabled) { transform: translateX(5px); background-color: #f3f4f6; }
        .correct { background-color: #d1fae5 !important; border-color: #10b981 !important; color: #065f46 !important; }
        .wrong { background-color: #fee2e2 !important; border-color: #ef4444 !important; color: #991b1b !important; }
        .disabled-opt { opacity: 0.7; cursor: not-allowed; }
        
        /* Multi-select st√≠lusok */
        .multi-btn.selected { background-color: #dbeafe; border-color: #3b82f6; color: #1e40af; }
        .multi-btn.correct-mark { background-color: #d1fae5 !important; border-color: #10b981 !important; }
        .multi-btn.wrong-mark { background-color: #fee2e2 !important; border-color: #ef4444 !important; }

        /* Matching Game St√≠lusok */
        .match-item { cursor: pointer; transition: all 0.2s; }
        .match-item.selected { background-color: #bfdbfe; border-color: #3b82f6; transform: scale(1.02); }
        .match-item.matched { background-color: #dcfce7; border-color: #22c55e; color: #15803d; cursor: default; opacity: 0.7; }
        .match-item.error { animation: shake 0.4s ease-in-out; background-color: #fee2e2; border-color: #ef4444; }

        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        /* Skill Meter a D√∂nt√©shoz√≥hoz */
        .skill-meter-container {
            height: 300px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        .skill-meter-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, #ef4444, #eab308, #22c55e);
            transition: height 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Fejl√©c -->
    <header class="hero-bg text-white py-16 shadow-xl relative overflow-hidden">
        <div class="container mx-auto px-4 relative z-10">
            <div class="flex items-center gap-6 mb-6">
                <div class="bg-white/20 p-4 rounded-full shadow-lg backdrop-blur-sm">
                    <i class="fas fa-subway text-4xl"></i>
                </div>
                <div>
                    <h1 class="text-4xl md:text-5xl font-bold tracking-tight mb-2">Vas√∫ti K√©pz√©s √©s Vizsg√°ztat√°s</h1>
                    <p class="text-blue-200 font-semibold tracking-wider uppercase text-sm">19/2011. (V. 10.) NFM rendelet alapj√°n</p>
                </div>
            </div>
            <p class="text-blue-100 text-xl max-w-3xl mb-8 leading-relaxed">
                Komplex e-learning rendszer r√©szletes elm√©leti anyagokkal, interakt√≠v <strong>p√°ros√≠t√≥s</strong> √©s <strong>t√∂bbv√°laszt√≥s</strong> j√°t√©kokkal.
            </p>
            <div class="flex flex-wrap gap-4">
                <a href="#chapter1" class="bg-white text-blue-900 font-bold px-6 py-3 rounded-full hover:bg-blue-50 transition shadow-md flex items-center gap-2">
                    <i class="fas fa-book-open"></i> Tananyag
                </a>
                <a href="#decision-game" class="bg-blue-600 text-white font-bold px-6 py-3 rounded-full hover:bg-blue-500 transition shadow-md border border-blue-400 flex items-center gap-2">
                    <i class="fas fa-gamepad"></i> D√∂nt√©shoz√≥ J√°t√©k
                </a>
            </div>
        </div>
    </header>

    <!-- F≈ë tartalom -->
    <main class="container mx-auto px-4 py-12 max-w-5xl space-y-20">

        <!-- 1. FEJEZET: K√âPZ√âSI PROGRAMOK -->
        <div id="chapter1" class="group">
            <section class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative">
                <div class="absolute top-0 left-0 w-3 h-full bg-blue-600"></div>
                <div class="p-8 md:p-10">
                    <div class="flex items-center gap-4 mb-6">
                        <span class="bg-blue-100 text-blue-700 w-12 h-12 rounded-xl flex items-center justify-center text-2xl font-bold">1</span>
                        <h2 class="text-3xl font-bold text-gray-900">K√©pz√©si Programok K√∂vetelm√©nyei</h2>
                    </div>
                    
                    <div class="prose max-w-none text-gray-600 space-y-6 text-justify">
                        <p class="text-lg">A k√©pz√©si program a vas√∫ti k√©pz√©s alapdokumentuma, amely meghat√°rozza a k√©pz√©s minden l√©nyeges param√©ter√©t. A programot a k√©pz≈ëszervezet k√©sz√≠ti el, √©s f≈ëszab√°ly szerint a <strong>K√©pz√©si M√≥dszertani K√∂zpont (KMK)</strong> hagyja j√≥v√°. Vas√∫ti t√°rsas√°gi vizsg√°k eset√©n a j√≥v√°hagy√≥ a vizsg√°ztat√≥ szervezet is lehet.</p>
                        
                        <div class="grid md:grid-cols-2 gap-8 mt-6">
                            <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                                <h3 class="text-blue-900 font-bold text-lg mb-3 flex items-center gap-2"><i class="fas fa-clipboard-list"></i> K√∂telez≈ë Tartalmi Elemek</h3>
                                <p class="mb-2">A rendelet 6. ¬ß-a alapj√°n a programnak tartalmaznia kell:</p>
                                <ul class="list-disc list-inside space-y-2 text-sm text-blue-900">
                                    <li><strong>K√©pz√©si c√©lok √©s k√∂vetelm√©nyek:</strong> A megszerezhet≈ë kompetenci√°k pontos le√≠r√°sa (pl. mely munkak√∂r bet√∂lt√©s√©re jogos√≠t).</li>
                                    <li><strong>T√©mak√∂r√∂k:</strong> A rendelet 3. mell√©klete (vagy 6. mell√©klete) √°ltal el≈ë√≠rt pontos t√©m√°k.</li>
                                    <li><strong>Ar√°nyok:</strong> Az elm√©leti √©s gyakorlati k√©pz√©s ar√°ny√°nak meghat√°roz√°sa a megfelel≈ë egyens√∫ly √©rdek√©ben.</li>
                                    <li><strong>Vizsgaanyag:</strong> A vizsgat√©mak√∂r√∂k √©s az ellen≈ërz≈ë k√©rd√©sek (kiv√©ve, ha a vizsg√°ztat√≥ szervezet k√∂zponti k√©rd√©sbankj√°t kell haszn√°lni).</li>
                                    <li><strong>M√≥dszertan:</strong> Az alkalmazott oktat√°si eszk√∂z√∂k (pl. t√°voktat√°s, multim√©dia, szimul√°tor) r√∂gz√≠t√©se.</li>
                                </ul>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                                <h3 class="text-gray-900 font-bold text-lg mb-3 flex items-center gap-2"><i class="fas fa-exclamation-circle"></i> Speci√°lis Szab√°lyok</h3>
                                <ul class="space-y-3 text-sm">
                                    <li class="flex items-start gap-2">
                                        <i class="fas fa-video mt-1 text-blue-500"></i>
                                        <div>
                                            <strong>Vonalismeret oktat√°sa:</strong> Ha a k√©pz√©s sor√°n vide√≥felv√©telt vagy szimul√°tort alkalmaznak a val√≥s bej√°r√°s helyett vagy mellett, ezt a programban <strong>kifejezetten fel kell t√ºntetni</strong>. Ilyen esetben a programot a KMK-nak kell j√≥v√°hagynia (m√©g t√°rsas√°gi vizsga eset√©n is).
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-2">
                                        <i class="fas fa-sync-alt mt-1 text-green-500"></i>
                                        <div>
                                            <strong>Aktualiz√°l√°si k√∂telezetts√©g:</strong> A k√©pz√©si programot √©vente fel√ºl kell vizsg√°lni (k√ºl√∂n√∂sen vide√≥s oktat√°sn√°l). Ha a p√°lyah√°l√≥zat l√©nyeges jellemz≈ëi vagy a biztons√°gi szab√°lyok megv√°ltoznak, a programot azonnal m√≥dos√≠tani kell.
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Mini J√°t√©k 1 -->
                <div class="bg-slate-900 p-8 text-white">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-blue-300"><i class="fas fa-puzzle-piece mr-2"></i>Feladat: Program√∂ssze√°ll√≠t√°s</h3>
                        <span class="text-sm bg-slate-800 px-3 py-1 rounded-full border border-slate-700">Vegyes feladatok</span>
                    </div>
                    <div id="mini-game-1-container" class="max-w-3xl mx-auto">
                        <button onclick="startMiniGame(1)" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-xl transition shadow-lg transform hover:-translate-y-1">
                            J√°t√©k Ind√≠t√°sa
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- 2. FEJEZET: ALAPK√âPZ√âS MEGKEZD√âSE -->
        <div id="chapter2" class="group">
            <section class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative">
                <div class="absolute top-0 left-0 w-3 h-full bg-green-500"></div>
                <div class="p-8 md:p-10">
                    <div class="flex items-center gap-4 mb-6">
                        <span class="bg-green-100 text-green-700 w-12 h-12 rounded-xl flex items-center justify-center text-2xl font-bold">2</span>
                        <h2 class="text-3xl font-bold text-gray-900">Az Alapk√©pz√©s Megkezd√©se</h2>
                    </div>

                    <p class="text-gray-600 mb-6">A k√©pz√©sek ind√≠t√°sa szigor√∫ adminisztr√°ci√≥s felt√©telekhez k√∂t√∂tt.</p>

                    <!-- Statikus R√©szlet -->
                    <div class="rounded-xl overflow-hidden bg-green-50 border border-green-100 mb-6 shadow-sm">
                        <div class="p-5 bg-green-100/50 border-b border-green-200 font-bold text-green-900 flex items-center">
                            <i class="fas fa-envelope-open-text mr-2"></i>A Bejelent√©s Tartalma
                        </div>
                        <div class="p-5 text-sm text-green-800">
                            <p class="mb-2 font-semibold">A KMK fel√© elektronikusan, <span class="text-red-600 font-bold">7 nappal</span> a kezd√©s el≈ëtt be kell k√ºldeni:</p>
                            <ul class="list-disc list-inside space-y-1 ml-2">
                                <li>A k√©pz√©s pontos megnevez√©s√©t.</li>
                                <li>A k√©pz√©s helysz√≠n√©t (pontos c√≠m).</li>
                                <li>A kezd√©s √©s befejez√©s id≈ëpontj√°t.</li>
                                <li>A konkr√©t k√©pz√©si napokat.</li>
                                <li>Sz√°ll√°sig√©nyekre vonatkoz√≥ t√°j√©koztat√°st.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-xl border border-green-200 shadow-sm">
                            <h4 class="font-bold text-gray-900 mb-2 flex items-center"><i class="fas fa-heartbeat text-green-500 mr-2"></i> Eg√©szs√©g√ºgy</h4>
                            <p class="text-sm text-gray-600">Fel√ºgyelet alatti <strong>gyakorlati k√©pz√©sen</strong> csak √©rv√©nyes orvosi alkalmass√°gi birtok√°ban lehet r√©szt venni.</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl border border-green-200 shadow-sm">
                            <h4 class="font-bold text-gray-900 mb-2 flex items-center"><i class="fas fa-book text-green-500 mr-2"></i> El≈ëfelt√©telek</h4>
                            <p class="text-sm text-gray-600">Iskolai v√©gzetts√©g (3. mell√©klet szerint) √©s <strong>els≈ëseg√©lyny√∫jt√≥</strong> ismeretek megl√©te.</p>
                        </div>
                    </div>
                </div>

                <!-- Mini J√°t√©k 2 -->
                <div class="bg-slate-900 p-8 text-white">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-green-400"><i class="fas fa-check-double mr-2"></i>Feladat: Bemeneti Sz≈±r≈ë</h3>
                        <span class="text-sm bg-slate-800 px-3 py-1 rounded-full border border-slate-700">T√∂bbv√°laszt√≥s</span>
                    </div>
                    <div id="mini-game-2-container" class="max-w-3xl mx-auto">
                        <button onclick="startMiniGame(2)" class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl transition shadow-lg transform hover:-translate-y-1">
                            J√°t√©k Ind√≠t√°sa
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- 3. FEJEZET: HI√ÅNYZ√ÅS -->
        <div id="chapter3" class="group">
            <section class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative">
                <div class="absolute top-0 left-0 w-3 h-full bg-yellow-500"></div>
                <div class="p-8 md:p-10">
                    <div class="flex items-center gap-4 mb-6">
                        <span class="bg-yellow-100 text-yellow-700 w-12 h-12 rounded-xl flex items-center justify-center text-2xl font-bold">3</span>
                        <h2 class="text-3xl font-bold text-gray-900">Hi√°nyz√°si Szab√°lyok</h2>
                    </div>

                    <!-- Statikus R√©szlet -->
                    <div class="rounded-xl overflow-hidden bg-yellow-50 border border-yellow-100 mb-6 shadow-sm">
                        <div class="p-5 bg-yellow-100/50 border-b border-yellow-200 font-bold text-yellow-900 flex items-center">
                            <i class="fas fa-calculator mr-2"></i>Hi√°nyz√°si S√°vok √©s K√∂vetkezm√©nyek
                        </div>
                        <div class="p-5 text-sm text-yellow-900">
                            <div class="space-y-4">
                                <div class="flex items-center gap-4 p-3 bg-white rounded border border-yellow-200">
                                    <div class="font-bold text-green-600 text-lg w-20 flex-shrink-0">0-10%</div>
                                    <div><strong>Megengedett.</strong> Nincs p√≥tl√°si k√∂telezetts√©g. A tanul√≥ folytathatja a k√©pz√©st.</div>
                                </div>
                                <div class="flex items-center gap-4 p-3 bg-white rounded border border-yellow-200">
                                    <div class="font-bold text-yellow-600 text-lg w-20 flex-shrink-0">10-30%</div>
                                    <div><strong>P√≥tl√°s k√∂telez≈ë!</strong><br>Elm√©let: konzult√°ci√≥val.<br>Gyakorlat: a gyakorlat elv√©gz√©s√©vel.</div>
                                </div>
                                <div class="flex items-center gap-4 p-3 bg-white rounded border border-yellow-200">
                                    <div class="font-bold text-red-600 text-lg w-20 flex-shrink-0">>30%</div>
                                    <div><strong>Kiz√°r√°s!</strong> A k√©pz√©st nem folytathatja, vizsg√°t csak √∫j alapk√©pz√©s ut√°n tehet.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mini J√°t√©k 3 -->
                <div class="bg-slate-900 p-8 text-white">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-yellow-400"><i class="fas fa-project-diagram mr-2"></i>Feladat: P√°ros√≠t√≥</h3>
                        <span class="text-sm bg-slate-800 px-3 py-1 rounded-full border border-slate-700">P√°ros√≠t√°s</span>
                    </div>
                    <div id="mini-game-3-container" class="max-w-3xl mx-auto">
                        <button onclick="startMiniGame(3)" class="w-full bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-4 rounded-xl transition shadow-lg transform hover:-translate-y-1">
                            J√°t√©k Ind√≠t√°sa
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- 4. FEJEZET: FELMENT√âSEK -->
        <div id="chapter4" class="group">
            <section class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative">
                <div class="absolute top-0 left-0 w-3 h-full bg-purple-500"></div>
                <div class="p-8 md:p-10">
                    <div class="flex items-center gap-4 mb-6">
                        <span class="bg-purple-100 text-purple-700 w-12 h-12 rounded-xl flex items-center justify-center text-2xl font-bold">4</span>
                        <h2 class="text-3xl font-bold text-gray-900">Felment√©si Lehet≈ës√©gek R√©szletesen</h2>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <!-- K√©relmez√©s √©s Hat√°rid≈ë -->
                        <div class="bg-purple-50 p-6 rounded-xl border border-purple-100">
                            <h3 class="text-purple-900 font-bold text-lg mb-4 flex items-center">
                                <i class="fas fa-hourglass-half mr-2"></i> K√©relmez√©s √©s Hat√°rid≈ë
                            </h3>
                            <ul class="space-y-3 text-sm text-purple-900">
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-users mt-1"></i>
                                    <span><strong>Ki k√©rheti?</strong> A k√©pz√©sben r√©sztvev≈ë munkav√°llal√≥ √©s a munk√°ltat√≥ (vas√∫ti t√°rsas√°g) <strong>egy√ºttesen</strong>.</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-clock mt-1 text-red-600"></i>
                                    <span><strong>Hat√°rid≈ë:</strong> A k√©relmet a <strong>k√©pz√©s megkezd√©se el≈ëtt</strong> kell beny√∫jtani. K√©s≈ëbb m√°r nem adhat√≥ felment√©s.</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <i class="fas fa-paper-plane mt-1"></i>
                                    <span><strong>Beny√∫jt√°s helye:</strong> A K√©pz√©si M√≥dszertani K√∂zponthoz (vagy hat√≥s√°gi vizsga eset√©n a Hat√≥s√°ghoz).</span>
                                </li>
                            </ul>
                        </div>

                        <!-- Mi al√≥l adhat√≥ / Nem adhat√≥ -->
                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                            <h3 class="text-gray-900 font-bold text-lg mb-4 flex items-center">
                                <i class="fas fa-ban mr-2 text-red-500"></i> Mentes√≠t√©s Korl√°tai
                            </h3>
                            <div class="space-y-4 text-sm">
                                <div class="flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-100">
                                    <i class="fas fa-check-circle text-green-600 text-xl"></i>
                                    <div>
                                        <strong class="text-green-900 block">Adhat√≥:</strong>
                                        <span class="text-green-800">Az alapk√©pz√©s <strong>elm√©leti tant√°rgyainak</strong> oktat√°s√°n val√≥ r√©szv√©tel (√≥ral√°togat√°s) al√≥l.</span>
                                    </div>
                                </div>
                                <div class="flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-100">
                                    <i class="fas fa-times-circle text-red-600 text-xl"></i>
                                    <div>
                                        <strong class="text-red-900 block">NEM adhat√≥:</strong>
                                        <span class="text-red-800">Maga a <strong>vizsgak√∂telezetts√©g</strong> al√≥l. A vizsg√°t minden esetben le kell tenni (kiv√©ve speci√°lis megfeleltet√©s eset√©n).</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- R√©szletes T√°bl√°zat -->
                    <div class="rounded-xl overflow-hidden border border-gray-200 shadow-sm">
                        <div class="bg-gray-100 p-4 font-bold text-gray-700 border-b border-gray-200">
                            <i class="fas fa-list mr-2"></i>Konkr√©t Jogc√≠mek √©s Felt√©telek
                        </div>
                        <table class="w-full text-left text-sm">
                            <thead class="bg-gray-50 text-gray-600 uppercase text-xs">
                                <tr>
                                    <th class="p-4 border-b">Jogc√≠m</th>
                                    <th class="p-4 border-b">Felt√©tel</th>
                                    <th class="p-4 border-b">Enged√©lyez≈ë</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr class="hover:bg-gray-50">
                                    <td class="p-4 font-semibold text-gray-900">√Ållami fels≈ëfok√∫ v√©gzetts√©g</td>
                                    <td class="p-4 text-gray-600">
                                        Diplom√°val igazolt v√©gzetts√©g + A munk√°ltat√≥ √≠r√°sban igazolja, hogy biztos√≠tja a <strong>konzult√°ci√≥s lehet≈ës√©get</strong>.
                                    </td>
                                    <td class="p-4 text-indigo-600 font-bold">KMK</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="p-4 font-semibold text-gray-900">OKJ / Szakmajegyz√©k</td>
                                    <td class="p-4 text-gray-600">
                                        A rendelet 9. mell√©klet√©ben szerepl≈ë szakk√©pes√≠t√©s megl√©te. (Teljes alapk√©pz√©s al√≥l mentes√≠thet).
                                    </td>
                                    <td class="p-4 text-indigo-600 font-bold">KMK</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="p-4 font-semibold text-gray-900">√Ågazati Szakmai K√©pz√©s</td>
                                    <td class="p-4 text-gray-600">
                                        √Ågazati programk√∂vetelm√©nyek szerinti sikeres szakmai vizsga.
                                    </td>
                                    <td class="p-4 text-red-600 font-bold">HAT√ìS√ÅG</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="p-4 font-semibold text-gray-900">Kor√°bbi vizsga besz√°m√≠t√°sa</td>
                                    <td class="p-4 text-gray-600">
                                        Ha az √∫j k√©pz√©si program tartalmazza a kor√°bbit, √©s a vizsg√°z√≥ abb√≥l <strong>√©rv√©nyes vizsg√°val</strong> rendelkezik.
                                    </td>
                                    <td class="p-4 text-indigo-600 font-bold">KMK</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Mini J√°t√©k 4 -->
                <div class="bg-slate-900 p-8 text-white">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-purple-400"><i class="fas fa-user-shield mr-2"></i>Kv√≠z: Ki ad felment√©st?</h3>
                        <span class="text-sm bg-slate-800 px-3 py-1 rounded-full border border-slate-700">10 K√©rd√©s</span>
                    </div>
                    <div id="mini-game-4-container" class="max-w-3xl mx-auto">
                        <button onclick="startMiniGame(4)" class="w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 rounded-xl transition shadow-lg transform hover:-translate-y-1">
                            J√°t√©k Ind√≠t√°sa
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- 5. FEJEZET: VIZSG√ÅK -->
        <div id="chapter5" class="group">
            <section class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative">
                <div class="absolute top-0 left-0 w-3 h-full bg-red-600"></div>
                <div class="p-8 md:p-10">
                    <div class="flex items-center gap-4 mb-6">
                        <span class="bg-red-100 text-red-700 w-12 h-12 rounded-xl flex items-center justify-center text-2xl font-bold">5</span>
                        <h2 class="text-3xl font-bold text-gray-900">Vizsg√°k T√≠pusai √©s Hat√°rid≈ëk</h2>
                    </div>

                    <div class="explain-box mb-6">
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 text-sm text-blue-900 rounded-r-lg">
                            <strong>Mi√©rt fontos a k√ºl√∂nbs√©gt√©tel?</strong><br>
                            A <strong>KAV Hat√≥s√°gi Vizsga</strong> szervez√©se k√∂zpontos√≠tott, ez√©rt hosszabb adminisztr√°ci√≥s id≈ët ig√©nyel. A <strong>Vas√∫ti T√°rsas√°gi Vizsga</strong> bels≈ë szervez√©s≈±, √≠gy rugalmasabb.
                        </div>
                    </div>

                    <div class="tip-box mb-6">
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 text-sm text-yellow-900 rounded-r-lg">
                            <strong>Mem√≥ria Tipp: A "K√©z-szab√°ly"</strong><br>
                            <ul>
                                <li><strong>KAV (Hat√≥s√°gi):</strong> "K√©t k√©z" (10 ujj) = <strong>10 munkanap</strong>.</li>
                                <li><strong>T√°rsas√°gi:</strong> "Egy k√©z" (5 ujj) = <strong>5 munkanap</strong>.</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Statikus R√©szlet -->
                    <div class="rounded-xl overflow-hidden bg-red-50 border border-red-100 mb-6 shadow-sm">
                        <div class="p-5 bg-red-100/50 border-b border-red-200 font-bold text-red-900 flex items-center">
                            <i class="fas fa-stopwatch mr-2"></i>Hat√°rid≈ëk √©s Jav√≠t√°si Lehet≈ës√©gek (R√©szletes)
                        </div>
                        <div class="p-5 text-sm text-red-900">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-blue-200">
                                    <h4 class="font-bold mb-2 border-b border-blue-100 pb-1 text-blue-700">KAV Hat√≥s√°gi Vizsga</h4>
                                    <ul class="space-y-2">
                                        <li><strong>Bejelent√©s:</strong> Vizsga el≈ëtt 10. munkanapig.</li>
                                        <li><strong>Kit≈±z√©s:</strong> Bejelent√©st k√∂vet≈ë 9 munkanapon t√∫l.</li>
                                        <li><strong>T√∂rl√©s:</strong> Vizsga el≈ëtt 5. munkanapig.</li>
                                        <li><strong>Vizsgabiztos:</strong> Vizsgak√∂zpont jel√∂li ki.</li>
                                    </ul>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-green-200">
                                    <h4 class="font-bold mb-2 border-b border-green-100 pb-1 text-green-700">T√°rsas√°gi Vizsga</h4>
                                    <ul class="space-y-2">
                                        <li><strong>Bejelent√©s:</strong> Vizsga el≈ëtt 5. munkanapig.</li>
                                        <li><strong>Vizsgabiztos:</strong> K√©pz≈ëszervezet r√∂gz√≠ti.</li>
                                        <li><strong>M√≥dos√≠t√°s:</strong> Vizsgabiztos szem√©lye a vizsga kezdet√©ig m√≥dos√≠that√≥.</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <!-- K√©rt kieg√©sz√≠t√©s a bejelent√©si id≈ëkkel -->
                            <div class="mt-6 p-4 bg-white rounded-lg shadow-sm border-l-4 border-red-500">
                                <strong class="block text-red-700 mb-3 text-base">Vizsgat√≠pusok √©s Bejelent√©s:</strong>
                                <div class="grid md:grid-cols-3 gap-4">
                                    <div class="bg-red-50 p-3 rounded border border-red-100">
                                        <strong class="block text-red-800">Alapvizsga</strong>
                                        <p class="mb-2 text-xs text-gray-600">Max. 3 jav√≠t√≥. Sikertelens√©g eset√©n: <strong>Kieg√©sz√≠t≈ë Alapk√©pz√©s</strong>.</p>
                                        <div class="text-xs text-red-600 font-bold border-t border-red-200 pt-2"><i class="far fa-clock"></i> Bejelent√©s: 10 munkanap</div>
                                    </div>
                                    <div class="bg-red-50 p-3 rounded border border-red-100">
                                        <strong class="block text-red-800">Id≈ëszakos vizsga</strong>
                                        <p class="mb-2 text-xs text-gray-600">Max. 2 jav√≠t√≥. Sikertelens√©g eset√©n: <strong>Soron k√≠v√ºli vizsga</strong>.</p>
                                        <div class="text-xs text-red-600 font-bold border-t border-red-200 pt-2">
                                            <i class="far fa-clock"></i> Norm√°l: 10 munkanap<br>
                                            <span class="text-green-700">Jav√≠t√≥: 5 munkanap</span>
                                        </div>
                                    </div>
                                    <div class="bg-red-50 p-3 rounded border border-red-100">
                                        <strong class="block text-red-800">Hat√≥s√°gi soron k√≠v√ºli</strong>
                                        <p class="mb-2 text-xs text-gray-600">Nincs jav√≠t√≥. Sikertelens√©g eset√©n: <strong>Alapvizsga</strong>.</p>
                                        <div class="text-xs text-red-600 font-bold border-t border-red-200 pt-2"><i class="far fa-clock"></i> Bejelent√©s: 10 munkanap</div>
                                    </div>
                                </div>
                            </div>
                            <div class="tip-box bg-white border-red-400 text-red-900 mt-4">
                                <strong>Mem√≥ria Tipp: A "3-2-0" Visszasz√°ml√°l√°s</strong><br>
                                Ahogy szigorodik a helyzet, √∫gy fogy el a lehet≈ës√©g:<br>
                                <ul class="mt-1 list-none">
                                    <li>üéØ <strong>3</strong> es√©ly az <strong>Alapn√°l</strong> (Ha buk√°s: Kieg√©sz√≠t≈ë k√©pz√©s)</li>
                                    <li>‚ö†Ô∏è <strong>2</strong> es√©ly az <strong>Id≈ëszakosn√°l</strong> (Ha buk√°s: Soron k√≠v√ºli)</li>
                                    <li>‚õî <strong>0</strong> es√©ly a <strong>Hat√≥s√°gin√°l</strong> (Ha buk√°s: √öjra az Alap!)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mini J√°t√©k 5 -->
                <div class="bg-slate-900 p-8 text-white">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-red-400"><i class="fas fa-project-diagram mr-2"></i>Feladat: Vizsga M√°trix</h3>
                        <span class="text-sm bg-slate-800 px-3 py-1 rounded-full border border-slate-700">Vegyes</span>
                    </div>
                    <div id="mini-game-5-container" class="max-w-3xl mx-auto">
                        <button onclick="startMiniGame(5)" class="w-full bg-red-600 hover:bg-red-500 text-white font-bold py-4 rounded-xl transition shadow-lg transform hover:-translate-y-1">
                            J√°t√©k Ind√≠t√°sa
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- NAGY J√ÅT√âK: VAS√öTI D√ñNT√âSHOZ√ì -->
        <div id="decision-game" class="mt-24 pt-12 border-t-4 border-blue-100">
            <div class="text-center mb-12">
                <div class="inline-block bg-blue-600 text-white p-4 rounded-full shadow-lg mb-4 text-3xl">
                    <i class="fas fa-user-tie"></i>
                </div>
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">Vas√∫ti D√∂nt√©shoz√≥</h2>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto">30 √©les szitu√°ci√≥ v√°r r√°d. Te vagy az adminisztr√°tor. Minden d√∂nt√©sed sz√°m√≠t a karriered szempontj√°b√≥l!</p>
            </div>

            <div class="bg-slate-900 rounded-3xl shadow-2xl p-8 text-white relative overflow-hidden max-w-6xl mx-auto flex flex-col lg:flex-row gap-8 min-h-[600px]">
                <!-- J√°t√©k T√©r -->
                <div class="flex-1 relative z-10 flex flex-col">
                    <!-- Start -->
                    <div id="game-start" class="flex flex-col items-center justify-center h-full text-center p-8">
                        <div class="text-7xl mb-8 animate-bounce">üöâ</div>
                        <h3 class="text-3xl font-bold mb-6">K√©szen √°llsz a m≈±szakra?</h3>
                        <p class="text-slate-300 mb-10 text-lg">A j√°t√©k sor√°n 30 v√©letlenszer≈± feladatot kapsz a hat√≥s√°gi √©s t√°rsas√°gi vizsg√°k, valamint a k√©pz√©sek vil√°g√°b√≥l.</p>
                        <button onclick="startDecisionGame()" class="bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-4 px-12 rounded-full shadow-lg transition transform hover:scale-105 text-lg">
                            M≈±szak Kezd√©se
                        </button>
                    </div>

                    <!-- In-Game -->
                    <div id="game-ui" class="hidden h-full flex flex-col">
                        <div class="flex justify-between items-center text-sm font-mono text-slate-400 mb-8 bg-black/20 p-4 rounded-xl">
                            <span>√úgyirat: <span id="scenario-num" class="text-white font-bold">1</span> / 30</span>
                            <span>Pontsz√°m: <span id="game-score" class="text-green-400 font-bold text-lg">0</span></span>
                        </div>
                        <div class="flex-grow flex flex-col justify-center mb-8">
                            <div class="bg-slate-800/50 p-8 rounded-2xl border border-slate-700 shadow-inner">
                                <p id="scenario-text" class="text-xl md:text-2xl font-medium leading-relaxed text-center">Szitu√°ci√≥ bet√∂lt√©se...</p>
                            </div>
                        </div>
                        <div id="game-options" class="grid md:grid-cols-2 gap-4"></div>
                        <div id="game-feedback" class="mt-6 p-5 rounded-xl hidden text-center font-bold text-lg border shadow-lg"></div>
                        <button id="game-next-btn" onclick="nextScenario()" class="mt-6 w-full bg-blue-600 hover:bg-blue-500 py-4 rounded-xl font-bold text-lg shadow-lg hidden transition">K√∂vetkez≈ë √úgyirat <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>

                    <!-- End -->
                    <div id="game-end" class="hidden flex flex-col items-center justify-center h-full text-center p-8">
                        <div class="text-7xl mb-6">üèÅ</div>
                        <h3 class="text-4xl font-bold mb-4">M≈±szak V√©ge!</h3>
                        <p class="text-2xl text-slate-300 mb-8">V√©gs≈ë Eredm√©ny: <span id="final-game-score" class="text-yellow-400 font-bold text-4xl">0</span> / 30</p>
                        <div id="final-feedback-text" class="bg-white/10 p-8 rounded-2xl mb-10 text-lg font-medium border border-white/10"></div>
                        <button onclick="resetDecisionGame()" class="bg-white/10 hover:bg-white/20 text-white py-3 px-8 rounded-full font-bold border border-white/30 transition">√öj M≈±szak</button>
                    </div>
                </div>

                <!-- Oldals√°v: Skill Meter -->
                <div class="w-full lg:w-72 bg-slate-800/80 rounded-2xl p-6 border border-slate-700 flex flex-col items-center relative z-10 shadow-xl backdrop-blur-sm">
                    <h4 class="text-slate-400 text-xs uppercase tracking-widest mb-6 font-bold">Kompetencia Szint</h4>
                    <div class="skill-meter-container w-20 flex-1 mb-6 border-2 border-slate-600 relative bg-slate-900 rounded-full overflow-hidden shadow-inner">
                        <div id="skill-fill" class="skill-meter-fill w-full absolute bottom-0 left-0 transition-all duration-700 ease-out" style="height: 0%;"></div>
                        <div class="absolute bottom-[30%] w-full border-t border-white/30 z-10"></div>
                        <div class="absolute bottom-[60%] w-full border-t border-white/30 z-10"></div>
                        <div class="absolute bottom-[90%] w-full border-t border-white/30 z-10"></div>
                    </div>
                    <div id="current-rank" class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-bold text-lg w-full text-center shadow-lg border border-blue-400/30">Gyakornok</div>
                </div>
            </div>
        </div>

        <!-- Z√ÅR√ì TUD√ÅSPR√ìBA -->
        <div id="tudasproba" class="mt-24 pt-12 border-t border-gray-200 pb-24">
            <div class="max-w-4xl mx-auto bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden">
                <div class="bg-gradient-to-r from-yellow-500 to-orange-500 p-10 text-white text-center">
                    <h2 class="text-4xl font-bold mb-4"><i class="fas fa-graduation-cap mr-3"></i>Z√°r√≥ Tud√°spr√≥ba</h2>
                    <p class="text-lg opacity-90">A hat√≥s√°gi vizsga szimul√°ci√≥ja. 30 k√©rd√©s, egyetlen helyes v√°lasz.</p>
                </div>
                <div class="p-8 md:p-12">
                    <div id="quiz-start-panel" class="text-center py-8">
                        <p class="text-gray-600 text-xl mb-10">A teszt k√©rd√©sei minden ind√≠t√°skor v√©letlenszer≈± sorrendben jelennek meg.</p>
                        <button onclick="startQuiz()" class="bg-gray-900 hover:bg-gray-800 text-white font-bold py-4 px-12 rounded-full transition transform hover:-translate-y-1 shadow-xl text-lg">Teszt Ind√≠t√°sa</button>
                    </div>
                    <div id="quiz-interface" class="hidden">
                        <div class="w-full bg-gray-100 rounded-full h-4 mb-8 overflow-hidden">
                            <div id="quiz-progress" class="bg-yellow-500 h-full rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mb-4 font-bold uppercase tracking-wide">
                            <span>K√©rd√©s <span id="quiz-current-num">1</span> / 30</span>
                            <span>Pont: <span id="quiz-score">0</span></span>
                        </div>
                        <h3 id="quiz-question-text" class="text-2xl font-bold text-gray-900 mb-8 leading-snug">K√©rd√©s...</h3>
                        <div id="quiz-options" class="space-y-4"></div>
                        <div id="quiz-explanation" class="mt-8 p-6 bg-blue-50 text-blue-900 rounded-xl border border-blue-100 hidden">
                            <strong class="block mb-2 text-lg"><i class="fas fa-info-circle mr-2"></i>Magyar√°zat:</strong>
                            <span id="quiz-explanation-text" class="leading-relaxed"></span>
                        </div>
                        <div class="mt-8 text-right">
                            <button id="quiz-next-btn" onclick="nextQuizQuestion()" class="bg-gray-900 text-white font-bold py-3 px-10 rounded-xl hover:bg-gray-800 hidden transition shadow-lg">K√∂vetkez≈ë <i class="fas fa-chevron-right ml-2"></i></button>
                        </div>
                    </div>
                    <div id="quiz-result" class="hidden text-center py-8">
                        <div class="text-7xl mb-6">üèÜ</div>
                        <h3 class="text-4xl font-bold text-gray-900 mb-4">Eredm√©ny</h3>
                        <div class="text-6xl font-bold text-yellow-500 mb-8"><span id="final-quiz-score">0</span> / 30</div>
                        <p id="quiz-feedback-text" class="text-2xl text-gray-600 mb-12 font-light"></p>
                        <button onclick="location.reload()" class="bg-blue-600 text-white font-bold py-4 px-10 rounded-full hover:bg-blue-700 transition shadow-lg">Tananyag √öjrakezd√©se</button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- JAVASCRIPT -->
    <script>
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- MINI J√ÅT√âK ADATOK ---
        // T√≠pusok: 'single' (egy v√°laszt√°s), 'multi' (t√∂bb j√≥ v√°lasz), 'match' (p√°ros√≠t√°s)
        const miniGameData = {
            1: [ // 1. K√©pz√©si Programok (10 db)
                { type: 'multi', q: "Melyek a k√©pz√©si program k√∂telez≈ë tartalmi elemei? (Jel√∂ld be mindet!)", options: [{text:"K√©pz√©si c√©lok", correct:true}, {text:"Id≈ëj√°r√°s jelent√©s", correct:false}, {text:"T√©mak√∂r√∂k", correct:true}, {text:"Oktat√≥k telefonsz√°ma", correct:false}, {text:"Vizsgaanyag", correct:true}] },
                { type: 'match', q: "P√°ros√≠tsd az oktat√°si t√≠pust a felt√©tellel!", pairs: [{left:"Hagyom√°nyos elm√©let", right:"Nincs extra jel√∂l√©s"}, {left:"Vonalismeret vide√≥val", right:"Programban jel√∂lni kell"}, {left:"T√°voktat√°s", right:"Eszk√∂z√∂k r√∂gz√≠t√©se"}] },
                { type: 'single', q: "Ki hagyja j√≥v√° f≈ëszab√°ly szerint a programot?", a: ["K√©pz√©si M√≥dszertani K√∂zpont", "Hat√≥s√°g", "Munk√°ltat√≥", "Oktat√°si Hivatal"], c: 0 },
                { type: 'single', q: "Ki k√©sz√≠ti el a k√©pz√©si programot?", a: ["A k√©pz≈ëszervezet", "A vizsg√°z√≥", "A miniszt√©rium", "A szakszervezet"], c: 0 },
                { type: 'multi', q: "Mikor kell m√≥dos√≠tani a programot?", options: [{text:"Jogszab√°lyv√°ltoz√°skor", correct:true}, {text:"Minden h√≥napban", correct:false}, {text:"Infrastrukt√∫ra v√°ltoz√°skor", correct:true}, {text:"Ha esik az es≈ë", correct:false}] },
                { type: 'single', q: "Tartalmaznia kell-e a programnak az √≥rasz√°mokat?", a: ["Igen, elm√©let/gyakorlat ar√°nyt", "Nem, azt az oktat√≥ d√∂nti el", "Csak a gyakorlatit", "Csak az elm√©letit"], c: 0 },
                { type: 'match', q: "P√°ros√≠tsd a j√≥v√°hagy√≥kat!", pairs: [{left:"√Åltal√°nos k√©pz√©s", right:"KMK"}, {left:"T√°rsas√°gi vizsga", right:"Vizsg√°ztat√≥ szervezet"}, {left:"Oktat√≥i alapk√©pz√©s", right:"Hat√≥s√°g"}] },
                { type: 'single', q: "Haszn√°lhat√≥-e szimul√°tor a k√©pz√©sben?", a: ["Igen, ha a program tartalmazza", "Nem, tilos", "Csak k√ºlf√∂ld√∂n", "Titokban"], c: 0 },
                { type: 'single', q: "Hol √©rhet≈ëk el a vizsgat√©mak√∂r√∂k?", a: ["A k√©pz√©si programban", "A Facebookon", "Sehol", "A menetrendben"], c: 0 },
                { type: 'single', q: "Mi a k√©pz√©s alapdokumentuma?", a: ["K√©pz√©si program", "Jelenl√©ti √≠v", "Bizony√≠tv√°ny", "Sz√°mla"], c: 0 }
            ],
            2: [ // 2. Alapk√©pz√©s kezd√©se (10 db)
                { type: 'single', q: "Mennyi a bejelent√©si hat√°rid≈ë alapk√©pz√©sn√©l?", a: ["7 nappal a kezd√©s el≈ëtt", "A kezd√©s napj√°n", "30 nappal el≈ëtte", "Ut√≥lag"], c: 0 },
                { type: 'multi', q: "Mik a bejelent√©s k√∂telez≈ë elemei?", options: [{text:"Helysz√≠n", correct:true}, {text:"R√©sztvev≈ëk neme", correct:false}, {text:"Id≈ëpontok", correct:true}, {text:"K√©pz√©s neve", correct:true}] },
                { type: 'match', q: "P√°ros√≠tsd a felt√©teleket!", pairs: [{left:"Gyakorlati k√©pz√©s", right:"Orvosi alkalmass√°g"}, {left:"K√©pz√©s ind√≠t√°sa", right:"Bejelent√©s"}, {left:"Bemenet", right:"Iskolai v√©gzetts√©g"}] },
                { type: 'single', q: "Kinek kell bejelenteni a k√©pz√©st?", a: ["KMK-nak", "Hat√≥s√°gnak", "Rend≈ërs√©gnek", "Munk√°ltat√≥nak"], c: 0 },
                { type: 'single', q: "Hogyan t√∂rt√©nik a bejelent√©s?", a: ["Elektronikus √∫ton", "Postai lev√©lben", "Telefonon", "Szem√©lyesen"], c: 0 },
                { type: 'single', q: "Sz√ºks√©ges-e els≈ëseg√©lyny√∫jt√≥ vizsga?", a: ["Igen, el≈ëfelt√©tel", "Nem sz√ºks√©ges", "Csak a vizsg√°hoz", "Csak vezet≈ëknek"], c: 0 },
                { type: 'single', q: "Ki ellen≈ërizheti a k√©pz√©st?", a: ["Hat√≥s√°g √©s KMK", "Senki", "Csak a vizsgabiztos", "A m√©dia"], c: 0 },
                { type: 'single', q: "Kell-e sz√°ll√°sig√©nyr≈ël t√°j√©koztatni?", a: ["Igen, a bejelent√©sben", "Nem", "Csak ha k√©rik", "Csak k√ºlf√∂ld√∂n"], c: 0 },
                { type: 'single', q: "Mikor kezdhet≈ë a gyakorlati k√©pz√©s?", a: ["Orvosi alkalmass√°g ut√°n", "B√°rmikor", "Elm√©let el≈ëtt", "Beiratkoz√°skor"], c: 0 },
                { type: 'single', q: "Mit kell tenni, ha sz√ºnetel a k√©pz√©s?", a: ["Bejelenteni a hat√≥s√°gnak", "Semmit", "√öjrakezdeni", "V√°rni"], c: 0 }
            ],
            3: [ // 3. Hi√°nyz√°s (10 db)
                { type: 'match', q: "P√°ros√≠tsd a sz√°zal√©kokat!", pairs: [{left:"0-10%", right:"Megengedett"}, {left:"10-30%", right:"P√≥tl√°s k√∂telez≈ë"}, {left:">30%", right:"Kiz√°r√°s"}] },
                { type: 'single', q: "Hogyan p√≥tolhat√≥ az elm√©leti hi√°nyz√°s?", a: ["Konzult√°ci√≥val", "Otthoni olvas√°ssal", "Nem p√≥tolhat√≥", "Gyakorlattal"], c: 0 },
                { type: 'single', q: "Hogyan p√≥tolhat√≥ a gyakorlati hi√°nyz√°s?", a: ["A gyakorlat elv√©gz√©s√©vel", "Elm√©leti √≥r√°val", "√çr√°sbeli besz√°mol√≥val", "P√©nzbefizet√©ssel"], c: 0 },
                { type: 'multi', q: "Mikor NEM lehet vizsg√°ra bocs√°tani?", options: [{text:"35% hi√°nyz√°sn√°l", correct:true}, {text:"5% hi√°nyz√°sn√°l", correct:false}, {text:"P√≥tolatlan 20%-n√°l", correct:true}, {text:"P√≥tolt 15%-n√°l", correct:false}] },
                { type: 'single', q: "Ki igazolja a p√≥tl√°st?", a: ["A k√©pz≈ëszervezet", "A vizsg√°z√≥", "Az orvos", "A hat√≥s√°g"], c: 0 },
                { type: 'single', q: "Belesz√°m√≠t-e a betegs√©g a 30%-ba?", a: ["Igen, minden t√°voll√©t sz√°m√≠t", "Nem, az igazolt", "Csak ha k√≥rh√°z", "Nem sz√°m√≠t"], c: 0 },
                { type: 'single', q: "Mit jelent a modulrendszer≈± hi√°nyz√°s?", a: ["Modulonk√©nt n√©zik a %-ot", "√ñsszesen n√©zik", "Csak az els≈ë modult", "Nincs ilyen"], c: 0 },
                { type: 'single', q: "Vizsg√°zhat-e, aki 15%-ot hi√°nyzott √©s p√≥tolta?", a: ["Igen", "Nem", "Csak sz√≥belin", "Csak √≠r√°sbelin"], c: 0 },
                { type: 'single', q: "Mi a teend≈ë kiz√°r√°s eset√©n?", a: ["Meg kell ism√©telni a k√©pz√©st", "P√≥tvizsga", "M√©lt√°nyoss√°gi k√©relem", "Semmi"], c: 0 },
                { type: 'single', q: "El√©g-e √∂n√°ll√≥an tanulni hi√°nyz√°skor?", a: ["Nem, igazolt p√≥tl√°s kell", "Igen, ha tudja az anyagot", "Csak ha beteg volt", "Igen"], c: 0 }
            ],
            4: [ // 4. Felment√©sek (10 db)
                { type: 'match', q: "Ki adja a felment√©st?", pairs: [{left:"OKJ/Szakmajegyz√©k", right:"KMK"}, {left:"√Ågazati Szakmai K√©pz√©s", right:"Hat√≥s√°g"}, {left:"Fels≈ëfok√∫ v√©gzetts√©g", right:"KMK"}] },
                { type: 'multi', q: "Mi kell a diplom√°s felment√©shez?", options: [{text:"√Ållami fels≈ëfok√∫ v√©gzetts√©g", correct:true}, {text:"Konzult√°ci√≥s igazol√°s", correct:true}, {text:"Orvosi igazol√°s", correct:false}, {text:"Nyelvvizsga", correct:false}] },
                { type: 'single', q: "Mire adhat√≥ felment√©s diplom√°val?", a: ["Elm√©leti oktat√°sra", "Gyakorlatra", "Vizsg√°ra", "Mindenre"], c: 0 },
                { type: 'single', q: "Hogyan kell k√©rni a felment√©st?", a: ["Egy√ºttes k√©relemben a c√©ggel", "Egy√©nileg", "Sz√≥ban", "Ut√≥lag"], c: 0 },
                { type: 'single', q: "Mikor kell k√©rni?", a: ["K√©pz√©sre jelentkez√©skor", "Vizsga napj√°n", "B√°rmikor", "Ha m√°r hi√°nyzott"], c: 0 },
                { type: 'single', q: "Adhat√≥-e felment√©s csak gyakorlat alapj√°n?", a: ["Nem, v√©gzetts√©g kell", "Igen, 5 √©v ut√°n", "Igen, 10 √©v ut√°n", "Munk√°ltat√≥ d√∂nt"], c: 0 },
                { type: 'single', q: "Mit jelent a tant√°rgyi felment√©s?", a: ["√öj programn√°l a r√©gi elismer√©se", "Nincs ilyen", "Minden al√≥l mentes√≠t", "Csak vizsga al√≥l"], c: 0 },
                { type: 'single', q: "Vizsga al√≥l van-e mentes√≠t√©s?", a: ["Nincs (kiv√©ve elt√©r√©s vizsga)", "Van", "Csak √≠r√°sbeli al√≥l", "Csak gyakorlati al√≥l"], c: 0 },
                { type: 'single', q: "Hol sorolj√°k fel a mentes√≠t≈ë szakm√°kat?", a: ["9. mell√©kletben", "Az √∫js√°gban", "A szerz≈ëd√©sben", "Sehol"], c: 0 },
                { type: 'single', q: "Ki igazolja a konzult√°ci√≥t?", a: ["A vas√∫ti t√°rsas√°g", "A vizsg√°z√≥", "Az egyetem", "A KMK"], c: 0 }
            ],
            5: [ // 5. Vizsg√°k (10 db)
                { type: 'match', q: "P√°ros√≠tsd a bejelent√©si hat√°rid≈ëket!", pairs: [{left:"KAV Hat√≥s√°gi Vizsga", right:"10 munkanap"}, {left:"T√°rsas√°gi Vizsga", right:"5 munkanap"}, {left:"Vizsga T√∂rl√©se", right:"5 munkanap"}] },
                { type: 'match', q: "P√°ros√≠tsd a jav√≠t√≥vizsga lehet≈ës√©geket!", pairs: [{left:"Alapvizsga", right:"3 alkalom"}, {left:"Id≈ëszakos vizsga", right:"2 alkalom"}, {left:"Hat√≥s√°gi soron k√≠v√ºli", right:"Nincs jav√≠t√≥"}] },
                { type: 'multi', q: "Mi a teend≈ë sikertelen alapvizsg√°k ut√°n?", options: [{text:"Kieg√©sz√≠t≈ë alapk√©pz√©s", correct:true}, {text:"P√©nzb√ºntet√©s", correct:false}, {text:"Min. 50% √≥rasz√°m", correct:true}, {text:"Azonnali √∫jr√°z√°s", correct:false}] },
                { type: 'single', q: "Mennyi az alapvizsga √©rv√©nyess√©ge?", a: ["3 √©v", "5 √©v", "1 √©v", "V√©gleges"], c: 0 },
                { type: 'single', q: "Ki jel√∂li ki a vizsgabiztost KAV vizsg√°n?", a: ["A Vizsgak√∂zpont", "A K√©pz≈ë", "A Munk√°ltat√≥", "A Vizsg√°z√≥"], c: 0 },
                { type: 'single', q: "Mikor kell megkezdeni a vizsg√°t?", a: ["K√©pz√©s ut√°n 14 napon bel√ºl", "30 napon bel√ºl", "Azonnal", "F√©l √©ven bel√ºl"], c: 0 },
                { type: 'single', q: "Mennyi a sikeres √≠r√°sbeli hat√°ra?", a: ["75%", "50%", "60%", "80%"], c: 0 },
                { type: 'single', q: "Lehet-e vizsg√°zni p√≥tl√°s n√©lk√ºl (15% hi√°nyz√°s)?", a: ["Nem", "Igen", "Tal√°n", "Ha engedik"], c: 0 },
                { type: 'single', q: "T√°rsas√°gi vizsg√°n√°l meddig m√≥dos√≠that√≥ a vizsgabiztos?", a: ["A vizsga kezdet√©ig", "5 nappal el≈ëtte", "10 nappal el≈ëtte", "Nem m√≥dos√≠that√≥"], c: 0 },
                { type: 'match', q: "P√°ros√≠tsd a sikertelens√©g k√∂vetkezm√©ny√©t!", pairs: [{left:"Sikertelen alapvizsga (3x)", right:"Kieg√©sz√≠t≈ë k√©pz√©s"}, {left:"Sikertelen id≈ëszakos (2x)", right:"Soron k√≠v√ºli vizsga"}, {left:"Sikertelen soron k√≠v√ºli", right:"Alapvizsga"}] }
            ]
        };

        // --- RENDER LOGIKA ---
        const activeGames = {};

        function startMiniGame(chapterId) {
            const questions = [...miniGameData[chapterId]];
            shuffleArray(questions);
            activeGames[chapterId] = { questions: questions, currentQ: 0, score: 0, selections: [], matchedPairs: 0 };
            renderMiniGame(chapterId);
        }

        function renderMiniGame(chapterId) {
            const state = activeGames[chapterId];
            const container = document.getElementById(`mini-game-${chapterId}-container`);

            if (state.currentQ >= state.questions.length) {
                container.innerHTML = `<div class="text-center bg-slate-800 p-6 rounded-xl border border-slate-700 animate-fade-in"><h4 class="text-2xl font-bold mb-4 text-white">Eredm√©ny</h4><p class="text-5xl font-bold text-${state.score >= 8 ? 'green' : state.score >= 5 ? 'yellow' : 'red'}-400 mb-6">${state.score} / 10</p><button onclick="startMiniGame(${chapterId})" class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-8 rounded-full transition">√öjra</button></div>`;
                return;
            }

            const q = state.questions[state.currentQ];
            let html = `<div class="bg-slate-800 p-6 rounded-xl border border-slate-700"><div class="flex justify-between text-sm text-slate-400 mb-4 font-mono"><span>K√©rd√©s: ${state.currentQ + 1} / 10</span><span>Pont: ${state.score}</span></div><h4 class="text-lg font-bold mb-6 text-white min-h-[3.5rem] flex items-center">${q.q}</h4>`;

            // T√≠pus szerinti renderel√©s
            if (q.type === 'single') {
                let opts = q.a.map((txt, idx) => ({ txt, isCorrect: idx === q.c }));
                shuffleArray(opts);
                html += `<div class="grid grid-cols-1 gap-3">`;
                opts.forEach(opt => html += `<button class="option-btn w-full text-left p-4 rounded-lg bg-slate-700 hover:bg-slate-600 text-white transition border border-slate-600 font-medium" onclick="handleSingleAnswer(${chapterId}, this, ${opt.isCorrect})">${opt.txt}</button>`);
                html += `</div>`;
            } 
            else if (q.type === 'multi') {
                // Multi-select
                state.selections = new Array(q.options.length).fill(false);
                html += `<div class="grid grid-cols-1 gap-3" id="multi-opts-${chapterId}">`;
                q.options.forEach((opt, i) => {
                    html += `<button id="multi-${chapterId}-${i}" class="multi-btn w-full text-left p-4 rounded-lg bg-slate-700 hover:bg-slate-600 text-white transition border border-slate-600 font-medium flex justify-between items-center" onclick="toggleMulti(${chapterId}, ${i})"><span>${opt.text}</span><i class="far fa-square text-xl"></i></button>`;
                });
                html += `</div><button onclick="checkMultiAnswer(${chapterId})" class="w-full mt-4 bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg transition">Ellen≈ërz√©s</button>`;
            }
            else if (q.type === 'match') {
                // Matching
                state.selectedLeft = null;
                state.matchedCount = 0;
                const lefts = q.pairs.map((p, i) => ({ txt: p.left, id: i, rightTxt: p.right }));
                const rights = q.pairs.map((p, i) => ({ txt: p.right, id: i })); 
                shuffleArray(lefts); shuffleArray(rights);
                html += `<div class="grid grid-cols-2 gap-4"><div><h5 class="text-slate-400 mb-2 text-center text-xs uppercase">Fogalom</h5>`;
                lefts.forEach(l => html += `<div id="left-${chapterId}-${l.id}" class="match-item bg-slate-700 p-3 rounded mb-2 text-white text-center border border-slate-600" onclick="selectMatch(${chapterId}, 'left', ${l.id})">${l.txt}</div>`);
                html += `</div><div><h5 class="text-slate-400 mb-2 text-center text-xs uppercase">P√°rja</h5>`;
                rights.forEach(r => html += `<div id="right-${chapterId}-${r.id}" class="match-item bg-slate-700 p-3 rounded mb-2 text-white text-center border border-slate-600" onclick="selectMatch(${chapterId}, 'right', ${r.id})">${r.txt}</div>`);
                html += `</div></div><p id="match-msg-${chapterId}" class="text-center text-sm text-slate-400 mt-2">Kattints egy elemre bal oldalon, majd a p√°rj√°ra jobb oldalon!</p>`;
            }

            html += `<div id="feedback-${chapterId}" class="mt-4 hidden font-bold text-center p-3 rounded"></div><button onclick="nextMiniQuestion(${chapterId})" id="next-${chapterId}" class="hidden w-full mt-4 bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg transition">Tov√°bb</button></div>`;
            container.innerHTML = html;
        }

        // --- Handler Functions ---
        window.handleSingleAnswer = function(chId, btn, isCorrect) {
            const container = document.getElementById(`mini-game-${chId}-container`);
            container.querySelectorAll('.option-btn').forEach(b => { b.disabled = true; b.classList.add('disabled-opt'); });
            const feedback = document.getElementById(`feedback-${chId}`);
            if(isCorrect) {
                activeGames[chId].score++;
                btn.classList.add('correct');
                feedback.innerHTML = "Helyes! ‚úÖ";
                feedback.className = "mt-4 font-bold text-center p-3 rounded bg-green-600/20 text-green-400 border border-green-500 block";
            } else {
                btn.classList.add('wrong');
                feedback.innerHTML = "Sajnos nem. ‚ùå";
                feedback.className = "mt-4 font-bold text-center p-3 rounded bg-red-600/20 text-red-400 border border-red-500 block";
            }
            document.getElementById(`next-${chId}`).classList.remove('hidden');
        };

        window.toggleMulti = function(chId, idx) {
            const state = activeGames[chId];
            state.selections[idx] = !state.selections[idx];
            const btn = document.getElementById(`multi-${chId}-${idx}`);
            const icon = btn.querySelector('i');
            if(state.selections[idx]) { btn.classList.add('selected'); icon.classList.replace('fa-square', 'fa-check-square'); } 
            else { btn.classList.remove('selected'); icon.classList.replace('fa-check-square', 'fa-square'); }
        };

        window.checkMultiAnswer = function(chId) {
            const state = activeGames[chId];
            const q = state.questions[state.currentQ];
            const feedback = document.getElementById(`feedback-${chId}`);
            let allCorrect = true;
            q.options.forEach((opt, i) => {
                const btn = document.getElementById(`multi-${chId}-${i}`);
                btn.disabled = true; btn.classList.remove('selected');
                if (opt.correct) btn.classList.add('correct-mark');
                if ((state.selections[i] && !opt.correct) || (!state.selections[i] && opt.correct)) {
                    allCorrect = false;
                    if(state.selections[i]) btn.classList.add('wrong-mark');
                }
            });
            event.target.classList.add('hidden');
            if(allCorrect) {
                state.score++; feedback.innerHTML = "T√∂k√©letes! Minden helyeset megtal√°lt√°l. ‚úÖ"; feedback.className = "mt-4 font-bold text-center p-3 rounded bg-green-600/20 text-green-400 border border-green-500 block";
            } else {
                feedback.innerHTML = "Nem teljesen. ‚ùå"; feedback.className = "mt-4 font-bold text-center p-3 rounded bg-red-600/20 text-red-400 border border-red-500 block";
            }
            document.getElementById(`next-${chId}`).classList.remove('hidden');
        };

        window.selectMatch = function(chId, side, id) {
            const state = activeGames[chId];
            const el = document.getElementById(`${side}-${chId}-${id}`);
            if (el.classList.contains('matched')) return;

            const prev = side === 'left' ? state.selectedLeftEl : state.selectedRightEl;
            if (prev) prev.classList.remove('selected');
            el.classList.add('selected');

            if (side === 'left') { state.selectedLeft = id; state.selectedLeftEl = el; } 
            else { state.selectedRight = id; state.selectedRightEl = el; }

            if (state.selectedLeft !== null && state.selectedRight !== null) {
                const pairs = state.questions[state.currentQ].pairs;
                const leftText = pairs[state.selectedLeft].right;
                const rightText = pairs[state.selectedRight].right;

                if (leftText === rightText) {
                    state.selectedLeftEl.classList.add('matched'); state.selectedLeftEl.classList.remove('selected');
                    state.selectedRightEl.classList.add('matched'); state.selectedRightEl.classList.remove('selected');
                    state.matchedCount++;
                    state.selectedLeft = null; state.selectedRight = null;
                    
                    if (state.matchedCount === state.questions[state.currentQ].pairs.length) {
                        state.score++;
                        document.getElementById(`feedback-${chId}`).innerHTML = "Minden p√°r helyes! ‚úÖ";
                        document.getElementById(`feedback-${chId}`).className = "mt-4 font-bold text-center p-3 rounded bg-green-600/20 text-green-400 border border-green-500 block";
                        document.getElementById(`next-${chId}`).classList.remove('hidden');
                        document.getElementById(`match-msg-${chId}`).classList.add('hidden');
                    }
                } else {
                    state.selectedLeftEl.classList.add('error'); state.selectedRightEl.classList.add('error');
                    setTimeout(() => {
                        state.selectedLeftEl.classList.remove('error', 'selected'); state.selectedRightEl.classList.remove('error', 'selected');
                        state.selectedLeft = null; state.selectedRight = null;
                    }, 400);
                }
            }
        };

        window.nextMiniQuestion = function(chapterId) { activeGames[chapterId].currentQ++; renderMiniGame(chapterId); };

        // --- D√∂nt√©shoz√≥ & Tud√°spr√≥ba (V√°ltozatlan) ---
        const gameScenarios = [
            { text: "Egy KAV hat√°sk√∂r≈± alapvizsg√°t a k√©pz≈ëszervezet 8 munkanappal a vizsga el≈ëtt akar bejelenteni. Elfogadod?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "KAV hat√°sk√∂r≈± vizsg√°kn√°l a hat√°rid≈ë szigor√∫an 10 munkanap." },
            { text: "Egy Vas√∫ti T√°rsas√°gi vizsg√°t 6 munkanappal a vizsga el≈ëtt jelentenek be. R√∂gz√≠ted?", options: [{text:"Igen",correct:true}, {text:"Nem",correct:false}], feedback: "T√°rsas√°gi vizsg√°kn√°l a hat√°rid≈ë 5 munkanap, a 6 nap megfelel≈ë." },
            { text: "A vizsg√°z√≥ harmadszor bukott meg az alapvizsg√°n. Engeded a negyedik pr√≥b√°lkoz√°st?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "3 sikertelen alapvizsga ut√°n k√∂telez≈ë a kieg√©sz√≠t≈ë alapk√©pz√©s." },
            { text: "Id≈ëszakos vizsg√°n m√°sodszor bukott a dolgoz√≥. Mehet harmadszorra?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "Id≈ëszakos vizsg√°n√°l csak 2 jav√≠t√≥vizsga van. Ut√°na soron k√≠v√ºli vizsga j√∂n." },
            { text: "Hat√≥s√°gi soron k√≠v√ºli vizsg√°n megbukott a jel√∂lt. K√©rhet jav√≠t√≥vizsg√°t?", options: [{text:"Nem",correct:true}, {text:"Igen",correct:false}], feedback: "Hat√≥s√°gi soron k√≠v√ºli vizsg√°n√°l nincs jav√≠t√≥vizsga. Buk√°s eset√©n alapvizsg√°t kell tenni." },
            { text: "Helyi vas√∫ti h√°l√≥zaton a t√≠pusismereti vizsg√°t a vas√∫ti t√°rsas√°g vizsga n√©lk√ºl akarja meghosszabb√≠tani. Lehets√©ges?", options: [{text:"Nem",correct:false}, {text:"Igen",correct:true}], feedback: "Helyi h√°l√≥zaton kompetenciafelm√©r√©ssel meghosszabb√≠that√≥ (ha volt √©vi 1 √∂n√°ll√≥ szolg√°lat)." },
            { text: "A k√©pz≈ëszervezet 4 munkanappal a KAV vizsga el≈ëtt m√≥dos√≠tani akarja a vizsg√°z√≥k n√©vsor√°t. Engeded?", options: [{text:"Nem",correct:true}, {text:"Igen",correct:false}], feedback: "KAV vizsg√°n√°l a m√≥dos√≠t√°s hat√°rideje 5 munkanap. Ut√°na √∫j bejelent√©s." },
            { text: "Egy t√°rsas√°gi vizsg√°n√°l a vizsga el≈ëtti napon cser√©lik le a vizsgabiztost. Szab√°lyos?", options: [{text:"Igen",correct:true}, {text:"Nem",correct:false}], feedback: "T√°rsas√°gi vizsg√°n√°l a vizsgabiztos szem√©lye a vizsga kezdet√©ig m√≥dos√≠that√≥." },
            { text: "Alapvizsga ut√°n 16 nappal akarj√°k megkezdeni a vizsg√°ztat√°st. Enged√©lyezed?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "Az alapvizsg√°t a k√©pz√©s v√©g√©t≈ël sz√°m√≠tott 14 napon bel√ºl meg kell kezdeni." },
            { text: "A vizsg√°z√≥ nem jelent meg, de a munk√°ltat√≥ja 2 napon bel√ºl igazolta. Kell p√≥td√≠jat fizetnie?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "Ha a munk√°ltat√≥ 3 munkanapon bel√ºl igazolja, a t√°volmarad√°s igazolt." },
            { text: "Egy r√©sztvev≈ë 15%-ot hi√°nyzott a k√©pz√©sr≈ël. Vizsg√°ra bocs√°that√≥?", options: [{text:"Igen",correct:false}, {text:"Csak p√≥tl√°s ut√°n",correct:true}], feedback: "10% felett a hi√°nyz√°st p√≥tolni kell a vizsga el≈ëtt." },
            { text: "A vizsg√°z√≥ 35%-ot hi√°nyzott. K√©ri, hogy konzult√°ci√≥val p√≥tolhassa. Engeded?", options: [{text:"Nem",correct:true}, {text:"Igen",correct:false}], feedback: "30% feletti hi√°nyz√°s eset√©n a k√©pz√©sb≈ël ki kell z√°rni." },
            { text: "√çr√°sbeli vizsg√°n 74%-ot √©rt el a jel√∂lt. √Åtengeded?", options: [{text:"Nem",correct:true}, {text:"Igen",correct:false}], feedback: "A sikeress√©g hat√°ra minimum 75%." },
            { text: "√ñsszetett vizsg√°n megbukott az √≠r√°sbelin. Mehet sz√≥belizni?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "A sz√≥beli vizsga felt√©tele a sikeres √≠r√°sbeli." },
            { text: "A gyakorlati oktat√≥ csak √©retts√©givel rendelkezik, de van 4 √©v gyakorlata. Felveszed a n√©vjegyz√©kbe?", options: [{text:"Igen",correct:true}, {text:"Nem",correct:false}], feedback: "√âretts√©gi eset√©n min. 3 √©v szakmai gyakorlat sz√ºks√©ges." },
            { text: "Egy oktat√≥ 2 √©ve nem volt tov√°bbk√©pz√©sen. Tarthat √≥r√°t?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "Az √©ves tov√°bbk√©pz√©s elmulaszt√°sa t√∂rl√©st von maga ut√°n." },
            { text: "A vizsga helysz√≠n√©r≈ël 2 nappal el≈ëtte √©rtes√≠tik a hat√≥s√°got. Szab√°lyos?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "A hat√≥s√°got legal√°bb 3 nappal a vizsga el≈ëtt √©rtes√≠teni kell." },
            { text: "Pusk√°z√°son √©rt√©l egy vizsg√°z√≥t. Eltiltod?", options: [{text:"Igen",correct:true}, {text:"Nem",correct:false}], feedback: "Meg nem engedett seg√©deszk√∂z haszn√°lata eset√©n a vizsg√°t fel kell f√ºggeszteni." },
            { text: "A vizsg√°z√≥ ittasan jelent meg. Mennyi id≈ëre tiltod el?", options: [{text:"Min. 1 √©vre",correct:false}, {text:"1-6 h√≥napra",correct:true}], feedback: "B√≥d√≠t√≥ hat√°s eset√©n az eltilt√°s 1-t≈ël 6 h√≥napig terjedhet." },
            { text: "7 √©ve nem dolgozott vas√∫ton a jel√∂lt. El√©g neki az id≈ëszakos vizsga?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "6 √©vet meghalad√≥ t√°voll√©t eset√©n √∫j alapvizsg√°t kell tenni." },
            { text: "K√ºlf√∂ldi mozdonyvezet≈ëi enged√©lyt akarnak haszn√°lni. Elfogadod?", options: [{text:"Azonnal",correct:false}, {text:"Csak honos√≠t√°s ut√°n",correct:true}], feedback: "K√ºlf√∂ldi k√©pes√≠t√©s eset√©n honos√≠t√°si elj√°r√°s sz√ºks√©ges." },
            { text: "√öj vas√∫tvonal √©p√ºlt. A r√©gi vizsg√°val dolgozhatnak rajta?", options: [{text:"Nem",correct:true}, {text:"Igen",correct:false}], feedback: "√öj infrastrukt√∫ra eset√©n k√∂telez≈ë a specifikus vonalismereti k√©pz√©s." },
            { text: "A k√©pz≈ëszervezet nem jelentette be a k√©pz√©st, de a vizsg√°t igen. Megtarthat√≥ a vizsga?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "A vizsga felt√©tele a szab√°lyosan bejelentett √©s lefolytatott k√©pz√©s." },
            { text: "Egy t√°rsas√°g saj√°t hat√°sk√∂rben vizsg√°ztatna forgalmi utas√≠t√°sb√≥l orsz√°gos p√°ly√°n. Lehet?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "Orsz√°gos p√°lyah√°l√≥zaton az √°ltal√°nos forgalmi vizsga KAV hat√°sk√∂r." },
            { text: "El≈ëzetes orvosi vizsg√°laton 'nem alkalmas' lett a jel√∂lt. Elkezdheti a gyakorlati k√©pz√©st?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "A gyakorlati k√©pz√©s felt√©tele az orvosi alkalmass√°g." },
            { text: "A vizsg√°z√≥ a vizsga el≈ëtt 1 nappal mondja le. T√∂r√∂lhet≈ë a vizsga d√≠jmentesen?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "A t√∂rl√©s hat√°rideje 5 munkanap." },
            { text: "Egy oktat√≥ vizsg√°ztatni akarja azt a csoportot, akit tan√≠tott. Engeded?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "√ñsszef√©rhetetlens√©g miatt oktat√≥ nem vizsg√°ztathatja a saj√°t csoportj√°t." },
            { text: "A vizsg√°z√≥ nagyb√°tyja a vizsgabiztos. Lehet?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "Hozz√°tartoz√≥i viszony kiz√°r√≥ ok." },
            { text: "Egy 32 f≈ës csoportot jelentenek be elm√©leti oktat√°sra. Enged√©lyezed?", options: [{text:"Igen",correct:false}, {text:"Nem",correct:true}], feedback: "Az elm√©leti k√©pz√©s csoportl√©tsz√°ma maximum 30 f≈ë lehet." },
            { text: "A vas√∫ti t√°rsas√°g vizsga n√©lk√ºl, kompetenciafelm√©r√©ssel hosszabb√≠tana metr√≥h√°l√≥zaton. Lehet?", options: [{text:"Igen",correct:true}, {text:"Nem",correct:false}], feedback: "V√°rosi h√°l√≥zaton (pl. metr√≥) a speci√°lis hosszabb√≠t√°si szab√°lyok √©rv√©nyesek." }
        ];

        let currentGameIdx = 0;
        let gamePoints = 0;

        function startDecisionGame() {
            document.getElementById('game-start').classList.add('hidden');
            document.getElementById('game-ui').classList.remove('hidden');
            gamePoints = 0;
            currentGameIdx = 0;
            updateSkillMeter(0);
            shuffleArray(gameScenarios);
            loadGameScenario();
        }

        function loadGameScenario() {
            const data = gameScenarios[currentGameIdx];
            document.getElementById('scenario-num').innerText = currentGameIdx + 1;
            document.getElementById('scenario-text').innerText = data.text;
            const container = document.getElementById('game-options');
            container.innerHTML = '';
            let options = [...data.options];
            shuffleArray(options);
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-4 rounded-lg border border-slate-600 bg-slate-800 hover:bg-slate-700 transition text-white font-medium shadow-md";
                btn.innerText = opt.text;
                btn.onclick = () => checkGameAnswer(opt, btn);
                container.appendChild(btn);
            });
            document.getElementById('game-feedback').classList.add('hidden');
            document.getElementById('game-next-btn').classList.add('hidden');
        }

        function checkGameAnswer(option, btn) {
            const buttons = document.getElementById('game-options').children;
            for(let b of buttons) b.disabled = true;
            const feedbackEl = document.getElementById('game-feedback');
            feedbackEl.classList.remove('hidden');
            feedbackEl.innerText = gameScenarios[currentGameIdx].feedback;
            if(option.correct) {
                gamePoints++;
                document.getElementById('game-score').innerText = gamePoints;
                feedbackEl.classList.add('bg-green-600/20', 'text-green-300', 'border-green-500');
                feedbackEl.classList.remove('bg-red-600/20', 'text-red-300', 'border-red-500');
                btn.classList.add('border-green-500', 'bg-green-900/50');
            } else {
                feedbackEl.classList.add('bg-red-600/20', 'text-red-300', 'border-red-500');
                feedbackEl.classList.remove('bg-green-600/20', 'text-green-300', 'border-green-500');
                btn.classList.add('border-red-500', 'bg-red-900/50');
            }
            updateSkillMeter();
            document.getElementById('game-next-btn').classList.remove('hidden');
        }

        function updateSkillMeter() {
            const percentage = (gamePoints / 30) * 100;
            document.getElementById('skill-fill').style.height = percentage + '%';
            const rankEl = document.getElementById('current-rank');
            if (percentage < 30) rankEl.innerText = "Gyakornok";
            else if (percentage < 60) rankEl.innerText = "Kezd≈ë Vasutas";
            else if (percentage < 90) rankEl.innerText = "Szak√©rt≈ë";
            else rankEl.innerText = "F≈ëfel√ºgyel≈ë";
        }

        function nextScenario() {
            currentGameIdx++;
            if(currentGameIdx < gameScenarios.length) {
                loadGameScenario();
            } else {
                document.getElementById('game-ui').classList.add('hidden');
                document.getElementById('game-end').classList.remove('hidden');
                document.getElementById('final-game-score').innerText = gamePoints;
                const msgEl = document.getElementById('final-feedback-text');
                if (gamePoints >= 27) {
                    msgEl.innerText = "Gratul√°lunk! Kiv√°l√≥ eredm√©ny. Te igazi vas√∫ti szaktekint√©ly vagy!";
                    msgEl.className = "bg-green-600/20 text-green-200 p-6 rounded-xl border border-green-500/50";
                } else if (gamePoints >= 15) {
                    msgEl.innerText = "Sz√©p munka! Az alapok megvannak, de a finom r√©szleteket m√©g √©rdemes √°tn√©zni.";
                    msgEl.className = "bg-yellow-600/20 text-yellow-200 p-6 rounded-xl border border-yellow-500/50";
                } else {
                    msgEl.innerText = "Ez most nem siker√ºlt t√∫l j√≥l. √ârdemes √∫jra √°tolvasni a tananyagot.";
                    msgEl.className = "bg-red-600/20 text-red-200 p-6 rounded-xl border border-red-500/50";
                }
            }
        }

        function resetDecisionGame() {
            document.getElementById('game-end').classList.add('hidden');
            startDecisionGame();
        }

        // --- NAGY TUD√ÅSPR√ìBA (30 K√©rd√©s - A te list√°d alapj√°n) ---
        const quizData = [
            { q: "Az al√°bbiak k√∂z√ºl melyik a vas√∫tszakmai oktat√≥i n√©vjegyz√©kbe val√≥ felv√©tel egyik k√∂vetelm√©nye?", a: ["Rendelkezik egy √©vn√©l nem r√©gebbi vas√∫tszakmai oktat√≥i vagy k√ºl√∂nleges k√∂t√∂ttp√°ly√°s k√∂zleked√©si szakmai oktat√≥i vizsg√°val", "Rendelkezik legal√°bb 10 √©ves folyamatos vas√∫ti szakmai gyakorlattal vezet≈ëi beoszt√°sban", "Rendelkezik a munk√°ltat√≥ √°ltal ki√°ll√≠tott √≠r√°sos aj√°nl√°ssal", "Elv√©gezte a K√©pz√©si M√≥dszertani K√∂zpont 50 √≥r√°s pedag√≥giai tanfolyam√°t"], correct: 0, exp: "A n√©vjegyz√©kbe v√©telhez elengedhetetlen a friss, egy √©vn√©l nem r√©gebbi szakmai oktat√≥i vizsga megl√©te." },
            { q: "Meddig van lehet≈ës√©g soron k√≠v√ºli id≈ëszakos vizsg√°t tenni (NEM hat√≥s√°g √°ltali k√∂telez√©s eset√©n)?", a: ["6 √©vet el nem √©r≈ë t√°voll√©t eset√©n", "3 √©vet el nem √©r≈ë t√°voll√©t eset√©n", "1 √©vet el nem √©r≈ë t√°voll√©t eset√©n", "Korl√°tlan ideig"], correct: 0, exp: "6 √©vn√©l r√∂videbb t√°voll√©t eset√©n elegend≈ë a soron k√≠v√ºli vizsga, ezen t√∫lmen≈ëen m√°r alapk√©pz√©sre lehet sz√ºks√©g." },
            { q: "Mi a p√≥tvizsga?", a: ["Igazolt t√°volmarad√°s eset√©n ‚Äì k√ºl√∂n d√≠j megfizet√©se n√©lk√ºl ‚Äì teend≈ë vizsga", "Sikertelen vizsga eset√©n d√≠jfizet√©s ellen√©ben teend≈ë √∫jabb vizsga", "A hat√≥s√°g √°ltal elrendelt rendk√≠v√ºli vizsga", "Az alapk√©pz√©s megism√©tl√©se ut√°n teend≈ë vizsga"], correct: 0, exp: "A p√≥tvizsga l√©nyege, hogy a vizsg√°z√≥ √∂nhib√°j√°n k√≠v√ºl maradt t√°vol, √≠gy mentes√ºl a d√≠jfizet√©s al√≥l." },
            { q: "Mikor tekinthet≈ë igazoltnak a vizsg√°r√≥l t√°volmarad√°s?", a: ["Ha a vizsg√°z√≥ munk√°ltat√≥ja h√°rom munkanapon bel√ºl a vizsg√°ztat√≥ szervezet fel√© igazolja a t√°volmarad√°st", "Ha a vizsg√°z√≥ telefonon jelzi a t√°volmarad√°s√°t a vizsga napj√°n", "Ha a vizsg√°z√≥ 8 napon bel√ºl orvosi igazol√°st k√ºld", "Ha a vizsg√°z√≥ el≈ëre √≠r√°sban lemondja a vizsg√°t"], correct: 0, exp: "A szab√°lyzat 3 munkanapos hat√°rid≈ët √≠r el≈ë a munk√°ltat√≥i igazol√°s beny√∫jt√°s√°ra." },
            { q: "Milyen felt√©telekkel k√©rhet≈ë alapk√©pz√©sben √≥ral√°togat√°s al√≥l felment√©s?", a: ["Az √°llami fels≈ëfok√∫ v√©gzetts√©ggel rendelkez≈ë k√©pz√©sben r√©szt vev≈ë √©s a k√©pz√©st megrendel≈ë vas√∫ti t√°rsas√°g egy√ºttes k√©relm√©re, ha a sz√ºks√©ges konzult√°ci√≥s lehet≈ës√©g biztos√≠tott", "Ha a r√©sztvev≈ë legal√°bb 5 √©ves szakmai gyakorlattal rendelkezik", "Kiz√°r√≥lag tart√≥s betegs√©g eset√©n, orvosi igazol√°ssal", "Ha a r√©sztvev≈ë nyilatkozik az otthoni felk√©sz√ºl√©sr≈ël"], correct: 0, exp: "A fels≈ëfok√∫ v√©gzetts√©g √©s a munk√°ltat√≥ √°ltal biztos√≠tott konzult√°ci√≥ egy√ºttesen alapozza meg a felment√©st." },
            { q: "T√°voll√©t eset√©n mennyi elmaradt oktat√°st √©s hogyan kell p√≥tolni?", a: ["Az adott munkak√∂rb≈ël az alapvizsg√°k √©rv√©nyess√©g√©t meghalad√≥, de a hat √©vet el nem √©r≈ë t√°voll√©t eset√©ben az id≈ëszakos oktat√°st legal√°bb a t√°voll√©t utols√≥ √©v√©nek megfelel≈ë egy √©ves oktat√°si id≈ëkeretnek megfelel≈ë √≥rasz√°mban kell p√≥tolni", "Az √∂sszes elmulasztott √©v oktat√°s√°t teljes eg√©sz√©ben p√≥tolni kell", "Nem kell p√≥tolni az oktat√°st, csak vizsg√°zni kell", "F√©l √©vnyi oktat√°st kell p√≥tolni"], correct: 0, exp: "Hosszabb t√°voll√©t eset√©n a visszat√©r√©shez elegend≈ë az utols√≥ √©v anyag√°t p√≥tolni a szinten tart√°s √©rdek√©ben." },
            { q: "Melyik munkak√∂r√∂kben vizsg√°ztat vizsgabizotts√°gban k√©t f≈ë vizsgabiztos?", a: ["A kocsivizsg√°l√≥ √©s a vas√∫tszakmai oktat√≥ alapvizsg√°kon", "Kiz√°r√≥lag a mozdonyvezet≈ëi vizsg√°kon", "Minden forgalmi szolg√°lattev≈ë vizsg√°n", "Csak a vas√∫t√ºzem-vezet≈ëi vizsg√°kon"], correct: 0, exp: "Ezekn√©l a kiemelt szakmai felel≈ëss√©ggel j√°r√≥ vizsg√°kn√°l k√∂telez≈ë a legal√°bb k√©tf≈ës bizotts√°g." },
            { q: "Ki √©s milyen m√≥don vehet r√©szt megfigyel≈ëk√©nt a vizsga sz√≥beli vizsgatev√©kenys√©g r√©sz√©n?", a: ["A vizsg√°ztat√≥ szervezettel a vizsg√°t megel≈ëz≈ë k√©t munkanappal k√∂z√∂lt bejelent√©s alapj√°n a k√©pz≈ëszervezet vagy regisztr√°lt szervezet egy k√©pvisel≈ëje", "B√°rki r√©szt vehet, aki a helysz√≠nen jelzi sz√°nd√©k√°t", "Csak a hat√≥s√°g k√©pvisel≈ëje vehet r√©szt", "A vizsg√°z√≥ hozz√°tartoz√≥ja √≠r√°sbeli k√©relemre"], correct: 0, exp: "A r√©szv√©telhez a k√©pz≈ëszervezet deleg√°ltj√°nak el≈ëzetes bejelentkez√©se sz√ºks√©ges." },
            { q: "Melyik esetben kell a felsoroltak k√∂z√ºl soron k√≠v√ºli orvosi alkalmass√°gi vizsg√°latra k√ºldeni a munkav√°llal√≥t?", a: ["A forgalom biztons√°g√°t vesz√©lyeztet≈ë helyzetet id√©z el≈ë, balesetet okoz, illetve munkak√∂re vagy feladatk√∂re ell√°t√°s√°val √∂sszef√ºgg√©sben munkabalesetet szenved", "A 40. √©let√©v bet√∂lt√©sekor", "Hosszabb szabads√°g ut√°n", "√âvente egyszer rutinszer≈±en"], correct: 0, exp: "Ilyen esem√©nyekn√©l felmer√ºlhet eg√©szs√©g√ºgyi ok, ez√©rt k√∂telez≈ë a vizsg√°lat." },
            { q: "Ismertesse az id≈ëszakos orvosi vizsg√°lat esed√©kess√©g√©t!", a: ["Negyvenedik √©let√©v bet√∂lt√©s√©t megel≈ëz≈ëen √∂t√©vente, negyvenedik √©let√©v bet√∂lt√©s√©t k√∂vet≈ëen, de a hatvankettedik √©let√©v bet√∂lt√©s√©t megel≈ëz≈ëen h√°rom√©vente, a hatvankettedik √©let√©v bet√∂lt√©s√©t k√∂vet≈ëen √©vente", "Minden koroszt√°ly sz√°m√°ra k√©t√©vente", "40 √©v alatt t√≠z√©vente, felette √∂t√©vente", "Csak panasz eset√©n"], correct: 0, exp: "Az √©letkor el≈ërehaladt√°val a kock√°zatok n≈ënek, √≠gy a vizsg√°latok s≈±r≈±s√∂dnek (5, 3, majd 1 √©v)." },
            { q: "A k√∂vetkez≈ë esetek k√∂z√ºl mikor sz√ºks√©ges el≈ëzetes orvosi vizsg√°latot tartani?", a: ["A vas√∫ti k√∂zleked√©s biztons√°g√°val √∂sszef√ºgg≈ë munkak√∂rben hat h√≥napot meghalad√≥ keres≈ëk√©ptelens√©g ut√°n ism√©telten foglalkoztatni k√≠v√°nt szem√©lyn√©l a munkav√©gz√©s megkezd√©s√©t megel≈ëz≈ëen", "Minden r√∂vid beteg√°llom√°ny ut√°n", "Lakc√≠mv√°ltoz√°s eset√©n", "√öj munkaruha ig√©nyl√©sekor"], correct: 0, exp: "Hossz√∫ (f√©l √©vet meghalad√≥) kihagy√°s ut√°n ellen≈ërizni kell az eg√©szs√©g√ºgyi alkalmass√°got." },
            { q: "Az al√°bbiak k√∂z√ºl melyek lehetnek az el≈ëzetes orvosi vizsg√°latnak a lehets√©ges kimenetelei?", a: ["‚ÄûAlkalmas‚Äù, ‚Äûideiglenesen nem alkalmas‚Äù vagy ‚Äûnem alkalmas‚Äù", "‚ÄûMegfelelt‚Äù vagy ‚ÄûNem felelt meg‚Äù", "‚ÄûKiv√°l√≥‚Äù, ‚ÄûJ√≥‚Äù, ‚ÄûK√∂zepes‚Äù", "‚ÄûEnged√©lyezett‚Äù vagy ‚ÄûElutas√≠tott‚Äù"], correct: 0, exp: "Ezek a hivatalos kateg√≥ri√°k az orvosi alkalmass√°g meg√°llap√≠t√°s√°ra." },
            { q: "Alapvizsga eset√©n h√°ny jav√≠t√≥vizsga lehet≈ës√©g √°ll a vizsg√°z√≥ rendelkez√©s√©re?", a: ["3", "1", "2", "5"], correct: 0, exp: "Az alapvizsg√°n√°l a szab√°lyoz√°s legfeljebb 3 jav√≠t√≥vizsg√°t enged√©lyez." },
            { q: "A hat√≥s√°g √°ltal elrendelt soron k√≠v√ºli id≈ëszakos vizsga eset√©n h√°ny jav√≠t√≥vizsga lehet≈ës√©g √°ll a vizsg√°z√≥ rendelkez√©s√©re?", a: ["Nincs jav√≠t√≥vizsga lehet≈ës√©g", "1 alkalom", "2 alkalom", "3 alkalom"], correct: 0, exp: "Mivel ez egy hat√≥s√°gi k√©nyszerint√©zked√©s, itt nincs lehet≈ës√©g jav√≠t√°sra." },
            { q: "Id≈ëszakos vizsga eset√©n h√°ny jav√≠t√≥vizsga lehet≈ës√©g √°ll a vizsg√°z√≥ rendelkez√©s√©re?", a: ["2", "1", "3", "Nincs lehet≈ës√©g"], correct: 0, exp: "A norm√°l id≈ëszakos vizsg√°k eset√©ben k√©t jav√≠t√°si lehet≈ës√©get biztos√≠t a szab√°lyzat." },
            { q: "A vas√∫ti vizsgak√∂zpont hat√°sk√∂r√©be tartoz√≥ vizsg√°val v√©gz≈ëd≈ë k√©pz√©s eset√©n, mely szervezet j√≥v√°hagy√°s√°hoz van k√∂tve a k√©pz√©si program alkalmaz√°sa?", a: ["A vas√∫tszakmai oktat√≥ √©s a vas√∫t√ºzem-vezet≈ë k√©pz√©sek eset√©n a vas√∫ti hat√≥s√°g, egy√©b k√©pz√©sek eset√©n a k√©pz√©si m√≥dszertani k√∂zpont", "Kiz√°r√≥lag a vas√∫ti hat√≥s√°g minden esetben", "Csak a K√©pz√©si M√≥dszertani K√∂zpont", "A vas√∫ti t√°rsas√°g vez√©rigazgat√≥ja"], correct: 0, exp: "A k√©t kiemelt szint≈± k√©pz√©st k√∂zvetlen√ºl a hat√≥s√°g hagyja j√≥v√°, a t√∂bbit a szakmai k√∂zpont." },
            { q: "Vas√∫ti t√°rsas√°gi k√©pz√©si program alkalmaz√°sa mely szervezet j√≥v√°hagy√°s√°hoz van k√∂tve?", a: ["A vizsg√°ztat√≥ vas√∫ti szervezet, vagy a k√©pz√©si m√≥dszertani k√∂zpont", "Kiz√°r√≥lag a Nemzeti K√∂zleked√©si Hat√≥s√°g", "Az Oktat√°si Miniszt√©rium", "A Vasutas Szakszervezet"], correct: 0, exp: "T√°rsas√°gi vizsg√°kn√°l maga a vizsg√°ztat√≥ szervezet (vagy a KMK) hagyja j√≥v√° a programot." },
            { q: "Vas√∫ti t√°rsas√°gi vizsg√°val z√°rul√≥ alapk√©pz√©s k√©pz√©si programj√°nak elfogad√°s√°hoz mely esetben sz√ºks√©ges a k√©pz√©si m√≥dszertani k√∂zpont j√≥v√°hagy√°sa?", a: ["Vonalismeret k√©pz√©s eset√©n, ha a k√©pz√©s vide√≥film, vagy szimul√°tor seg√≠ts√©g√©vel t√∂rt√©nik", "Minden esetben k√∂telez≈ë", "Soha nem sz√ºks√©ges", "Csak ha k√ºlf√∂ldi oktat√≥ tartja a k√©pz√©st"], correct: 0, exp: "Speci√°lis technol√≥gi√°k alkalmaz√°sakor a KMK szakmai kontrollja sz√ºks√©ges." },
            { q: "Hol tal√°lhat√≥ a vas√∫ti vizsgak√∂zpont hat√°sk√∂r√©be tartoz√≥ vizsg√°val v√©gz≈ëd≈ë k√©pz√©sek ismeretanyaga √©s a lehets√©ges vizsgak√©rd√©sek?", a: ["A vas√∫ti vizsgak√∂zpont honlapj√°n, a Vizsgaszab√°lyzat √©s Elj√°r√°si rend f√ºggel√©keiben", "A Magyar K√∂zl√∂nyben", "A vas√∫ti t√°rsas√°g bels≈ë szab√°lyzat√°ban", "A tank√∂nyvek v√©g√©n"], correct: 0, exp: "A hivatalos forr√°s a Vizsgak√∂zpont honlapja √©s az ott k√∂zz√©tett szab√°lyzatok." },
            { q: "H√°ny f≈ë vehet r√©szt egy gyakorlati bemutat√≥n egyszerre?", a: ["A k√©pz√©si program hat√°rozza meg, de legfeljebb 12 f≈ë a 19/2011. (V.10.) NFM rendelet szerint", "Legfeljebb 20 f≈ë", "Nincs l√©tsz√°mkorl√°t", "Legfeljebb 5 f≈ë"], correct: 0, exp: "A rendelet maxim√°lja a l√©tsz√°mot a hat√©konys√°g √©s biztons√°g √©rdek√©ben." },
            { q: "Melyik √°ll√≠t√°s igaz a 19/2011. (V.10.) NFM rendeletre vonatkoz√≥an?", a: ["Ez a rendelet meghat√°rozza a vas√∫ti k√©pz√©sek, vizsg√°k szab√°lyait, a k√©pz≈ëszervek m≈±k√∂d√©s√©t, vizsg√°kra vonatkoz√≥ el≈ë√≠r√°sokat", "A vas√∫ti munkav√°llal√≥k eg√©szs√©g√ºgyi alkalmass√°gi vizsg√°latair√≥l sz√≥l", "A vas√∫ti menetrend k√©sz√≠t√©s√©nek szab√°lyait √≠rja le", "A vas√∫ti p√°ly√°k √©p√≠t√©si szabv√°nya"], correct: 0, exp: "Ez a rendelet a vas√∫ti k√©pz√©si rendszer alapjogszab√°lya." },
            { q: "Mely √°ll√≠t√°s igaz a 203/2009. (IX.18.) Korm√°nyrendeletre?", a: ["Vas√∫ti munkav√°llal√≥k eg√©szs√©g√ºgyi alkalmass√°gi vizsg√°latair√≥l, a vizsg√°latokat v√©gz≈ë szervezet m≈±k√∂d√©s√©nek alapszab√°lyair√≥l sz√≥l", "A vas√∫ti k√©pz√©sek √©s vizsg√°k rendj√©t szab√°lyozza", "A vas√∫ti balesetek kivizsg√°l√°s√°r√≥l sz√≥l", "A vas√∫ti d√≠jszab√°st hat√°rozza meg"], correct: 0, exp: "Ez a jogszab√°ly rendezi a vasutasok orvosi alkalmass√°gi k√©rd√©seit." },
            { q: "Mely munkak√∂r√∂kre vonatkozik a 203/2009. (IX.18.) Korm√°nyrendelet?", a: ["A rendelet 1. sz. mell√©klet√©ben felsorolt olyan munkak√∂r√∂kre, amelyek a vas√∫ti k√∂zleked√©s biztons√°g√°val √∂sszef√ºggenek", "Minden vas√∫ti t√°rsas√°gn√°l dolgoz√≥ munkav√°llal√≥ra", "Kiz√°r√≥lag a mozdonyvezet≈ëkre", "Csak azokra, akik √©jszakai m≈±szakban dolgoznak"], correct: 0, exp: "A rendelet hat√°lya a biztons√°gi szempontb√≥l kritikus munkak√∂r√∂kre terjed ki." },
            { q: "Mely munkak√∂r√∂kre vonatkozik a 19/2011. (V.10.) NFM rendelet?", a: ["A rendelet 1. sz. mell√©klet√©ben felsorolt olyan munkak√∂r√∂kre, amelyek a vas√∫ti k√∂zleked√©s biztons√°g√°val √∂sszef√ºggenek", "Csak a vezet≈ëi munkak√∂r√∂kre", "Minden k√∂zleked√©si √°gazat dolgoz√≥ira", "Csak az √°llami vas√∫tt√°rsas√°g dolgoz√≥ira"], correct: 0, exp: "A k√©pz√©si rendelet is a biztons√°gi szempontb√≥l relev√°ns munkak√∂r√∂ket szab√°lyozza." },
            { q: "Milyen szervezet v√©gezhet vas√∫ti alapk√©pz√©st?", a: ["K√©pz√©si enged√©llyel rendelkez≈ë k√©pz≈ëszervezet", "B√°rmely gazdas√°gi t√°rsas√°g", "B√°rmely vas√∫ti t√°rsas√°g enged√©ly n√©lk√ºl", "Kiz√°r√≥lag √°llami egyetemek"], correct: 0, exp: "Alapk√©pz√©st csak hivatalos enged√©llyel rendelkez≈ë szervezet tarthat." },
            { q: "Milyen oktat√°sokat, k√©pz√©seket v√©gezhet a regisztr√°lt szervezet?", a: ["Id≈ëszakos oktat√°sokat", "Alapk√©pz√©seket", "Hat√≥s√°gi vizsg√°ztat√°st", "Orvosi vizsg√°latokat"], correct: 0, exp: "A regisztr√°lt szervezetek jogosults√°ga az id≈ëszakos oktat√°sokra terjed ki." },
            { q: "Melyik rendeletben √©s hol tal√°lhat√≥ak a vas√∫ti vizsga elnevez√©sek, k√©pz√©sben r√©szv√©tel felt√©telei, k√©pz√©s √©s a vizsga t√©mak√∂rei √©s a bet√∂lthet≈ë munkak√∂r√∂k?", a: ["19/2011. (V.10.) NFM rendelet 3. sz. mell√©klet√©ben", "A 203/2009. (IX.18.) Korm√°nyrendeletben", "A Munka T√∂rv√©nyk√∂nyv√©ben", "A 19/2011. rendelet 1. sz. mell√©klet√©ben"], correct: 0, exp: "A 3. mell√©klet a 't√∂rzsk√∂nyve' a k√©pz√©seknek √©s vizsg√°knak." },
            { q: "Hol tal√°lhat√≥ak a vas√∫ti vizsg√°k egym√°ssal t√∂rt√©n≈ë megfeleltet√©sei?", a: ["A vas√∫ti vizsgak√∂zpont honlapj√°n, a Vizsgaszab√°lyzat √©s Elj√°r√°si Rend f√ºggel√©keiben", "A t√∂rv√©ny sz√∂veg√©ben", "A munkaszerz≈ëd√©sekben", "A menetrendi utas√≠t√°sban"], correct: 0, exp: "A megfeleltet√©seket a KAV teszi k√∂zz√© a szab√°lyzataiban." },
            { q: "Milyen vizsg√°nak sz√°m√≠t az elt√©r√©s alapvizsga?", a: ["Alapvizsg√°nak, de a hozz√° tartoz√≥ alapvizsga √©rv√©nyess√©g√©t nem hosszabb√≠tja meg", "Id≈ëszakos vizsg√°nak", "P√≥tvizsg√°nak", "Nem sz√°m√≠t vizsg√°nak"], correct: 0, exp: "Az elt√©r√©s vizsga √∫j ismereteket k√©r sz√°mon (alapvizsga jelleg≈±), de nem hosszabb√≠tja meg a ciklust." },
            { q: "Melyik √°ll√≠t√°s igaz az OKJ v√©gzetts√©gekre √©s a szakk√©pes√≠t√©sre? Amennyiben a rendelet mell√©klete tartalmazza a megfeleltet√©st...", a: ["‚Ä¶a munkav√°llal√≥ √©s a munk√°ltat√≥ k√©rheti a k√©pz√©si m√≥dszertani k√∂zpontt√≥l, hogy alapk√©pz√©sen ne kelljen r√©szt venni, csak vizsg√°ra kelljen bejelenteni", "‚Ä¶automatikusan megkapja a vizsg√°t √©s az enged√©lyt", "‚Ä¶nem kell semmilyen vizsg√°t tennie", "‚Ä¶√∫jra kell j√°rnia az iskol√°t"], correct: 0, exp: "A megfelel≈ë szakmai v√©gzetts√©g mentes√≠thet a tanfolyam al√≥l, de a vizsga al√≥l nem felt√©tlen√ºl." }
        ];

        let quizIdx = 0;
        let quizPoints = 0;

        function startQuiz() {
            document.getElementById('quiz-start-panel').classList.add('hidden');
            document.getElementById('quiz-interface').classList.remove('hidden');
            quizIdx = 0;
            quizPoints = 0;
            shuffleArray(quizData);
            loadQuizQuestion();
        }

        function loadQuizQuestion() {
            const qData = quizData[quizIdx];
            document.getElementById('quiz-current-num').innerText = quizIdx + 1;
            document.getElementById('quiz-score').innerText = quizPoints;
            document.getElementById('quiz-question-text').innerText = qData.q;
            document.getElementById('quiz-explanation').classList.add('hidden');
            document.getElementById('quiz-next-btn').classList.add('hidden');
            
            const bar = document.getElementById('quiz-progress');
            bar.style.width = ((quizIdx) / quizData.length * 100) + "%";

            const container = document.getElementById('quiz-options');
            container.innerHTML = '';

            let options = qData.a.map((text, index) => ({ text, isCorrect: index === qData.correct }));
            shuffleArray(options);

            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-4 rounded-lg border border-gray-300 bg-white hover:bg-gray-50 transition text-gray-700 font-medium shadow-sm";
                btn.innerText = opt.text;
                btn.onclick = () => checkQuizAnswer(opt, btn, options);
                container.appendChild(btn);
            });
        }

        function checkQuizAnswer(choice, btn, allOpts) {
            const container = document.getElementById('quiz-options');
            Array.from(container.children).forEach(b => b.disabled = true);

            if (choice.isCorrect) {
                quizPoints++;
                document.getElementById('quiz-score').innerText = quizPoints;
                btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
            } else {
                btn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                Array.from(container.children).forEach(b => {
                    const text = b.innerText;
                    if (allOpts.find(o => o.txt === text).isCorrect) {
                        b.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                    }
                });
            }

            const expEl = document.getElementById('quiz-explanation');
            document.getElementById('quiz-explanation-text').innerText = quizData[quizIdx].exp;
            expEl.classList.remove('hidden');
            document.getElementById('quiz-next-btn').classList.remove('hidden');
        }

        function nextQuizQuestion() {
            quizIdx++;
            if (quizIdx < quizData.length) {
                loadQuizQuestion();
            } else {
                finishQuiz();
            }
        }

        function finishQuiz() {
            document.getElementById('quiz-interface').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            document.getElementById('final-quiz-score').innerText = quizPoints;
            
            const fb = document.getElementById('quiz-feedback-text');
            const percent = (quizPoints / 30) * 100;
            if (percent >= 90) fb.innerText = "Kiv√°l√≥! Elm√©leti tud√°sod szinte t√∂k√©letes.";
            else if (percent >= 75) fb.innerText = "Sikeres! A vizsg√°n √°tmenn√©l (75% felett).";
            else if (percent >= 50) fb.innerText = "K√∂zepes. Vannak hi√°nyoss√°gok.";
            else fb.innerText = "Sajnos ez kev√©s. Javasoljuk a tananyag ism√©tl√©s√©t.";
        }
    </script>
</body>
</html>